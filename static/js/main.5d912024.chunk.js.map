{"version":3,"sources":["components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Layout/Header.module.css","components/Meals/PromoText.module.css","components/Meals/MealList.module.css","components/UI/Card.module.css","components/Meals/MealItem/MealItemForm.module.css","components/UI/Input.module.css","assets/sushi.jpg","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/Meals/PromoText.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/Mealtem.js","components/Meals/MealList.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Cart.js","store/CartContextProvider.js","App.js","index.js"],"names":["module","exports","CartIcon","_jsx","xmlns","viewBox","fill","children","d","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","HeaderCartButton","props","isButtonAnimated","setIsButtonAnimated","useState","cartContext","useContext","cartItemsNumber","reduce","currentValue","amount","buttonClasses","concat","styles","button","bump","useEffect","length","timer","setTimeout","clearTimeout","_jsxs","className","onClick","icon","badge","Header","Fragment","header","onShowCart","onClose","onCloseCart","src","sushiImage","alt","PromoText","Card","card","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","event","preventDefault","inputAmount","current","value","trim","onAddToCart","type","min","step","defaultValue","MealItem","formattedPrice","price","toFixed","meal","name","description","DUMMY_MEALS","MealList","mealList","map","meals","Meals","Backdrop","backdrop","onHideCart","ModalWindow","modal","content","portalElement","document","getElementById","Modal","ReactDOM","createPortal","CartItem","classes","summary","actions","onRemove","onAdd","Cart","Math","abs","hasItems","removeCartItemHandler","addCartItemHandler","cartItems","bind","total","defaultCartState","cartReducer","state","action","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","updatedItems","filter","CartContextProvider","cartState","dispatchCartAction","useReducer","Provider","App","cartIsVisible","setCartIsVisible","hideCartHandler","showCartHandler","render"],"mappings":"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","file":"static/js/main.5d912024.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__32Xl0\",\"total\":\"Cart_total__1bmfn\",\"actions\":\"Cart_actions__18VKp\",\"button--alt\":\"Cart_button--alt__RAJOU\",\"button\":\"Cart_button__214tL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__3hTWC\",\"summary\":\"CartItem_summary__3dhFU\",\"price\":\"CartItem_price__3M6F5\",\"amount\":\"CartItem_amount__2YyTO\",\"actions\":\"CartItem_actions__2o4k_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__1_iLw\",\"icon\":\"HeaderCartButton_icon__3fXWu\",\"badge\":\"HeaderCartButton_badge___NfcZ\",\"bump\":\"HeaderCartButton_bump__9U-Dd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__2IABJ\",\"description\":\"MealItem_description__3REsP\",\"price\":\"MealItem_price__3uBUh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1kS8p\",\"modal\":\"Modal_modal__3-oss\",\"slide-down\":\"Modal_slide-down__2rUh2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__16nNj\",\"main-image\":\"Header_main-image__3lUz3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"promo-text\":\"PromoText_promo-text__2SHpT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"MealList_meals__3qiyb\",\"meals-appear\":\"MealList_meals-appear__nc4dN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2u-MV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2YSsh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__6m3nO\"};","export default __webpack_public_path__ + \"static/media/sushi.a2b4b921.jpg\";","const CartIcon = () => {\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"currentColor\"\r\n        >\r\n            <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default CartIcon;\r\n","import React from \"react\";\r\n\r\nconst CartContext = React.createContext ({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: (item) => {},\r\n    removeItem: (id) => {},\r\n});\r\n\r\nexport default CartContext;","import CartIcon from \"../Cart/CartIcon\";\r\nimport styles from './HeaderCartButton.module.css';\r\nimport CartContext from \"../../store/cart-context\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\n\r\n\r\nconst HeaderCartButton = (props) => {\r\n    const [isButtonAnimated, setIsButtonAnimated] = useState (false)\r\n    const cartContext = useContext (CartContext);\r\n    const cartItemsNumber = cartContext.items.reduce ((currentValue, item) => {\r\n        return currentValue + item.amount;\r\n    }, 0)\r\n\r\n    const buttonClasses =\r\n        `${styles.button} ${isButtonAnimated ? styles.bump : ''}`;\r\n    useEffect (() => {\r\n        if (cartContext.items.length === 0) {\r\n            return;\r\n        }\r\n        setIsButtonAnimated (true);\r\n\r\n        const timer = setTimeout (() => {\r\n            setIsButtonAnimated (false);\r\n        }, 300);\r\n        return ()=> {\r\n            clearTimeout(timer);\r\n        }\r\n    }, [cartContext.items]);\r\n\r\n    return (\r\n        <button className={buttonClasses} onClick={props.onClick}>\r\n            <span className={styles.icon}><CartIcon/></span>\r\n            <span>Корзина</span>\r\n            <span className={styles.badge}>\r\n                {cartItemsNumber}\r\n            </span>\r\n        </button>\r\n    )\r\n}\r\nexport default HeaderCartButton;","import React from \"react\";\r\nimport sushiImage from '../../assets/sushi.jpg';\r\nimport styles from './Header.module.css';\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            <header className={styles.header}>\r\n                <h1>Японка кухня</h1>\r\n                <HeaderCartButton onClick={props.onShowCart}\r\n                onClose={props.onCloseCart}/>\r\n            </header>\r\n            <div className={styles['main-image']}>\r\n                <img src={sushiImage} alt=\"Блюда японской кухни\"/>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Header;","import styles from './PromoText.module.css';\r\n\r\nconst PromoText = () => {\r\nreturn (\r\n    <section className={styles['promo-text']}>\r\n        <h2> Онлайн ресторан Японка кухня</h2>\r\n        <p> Японка Кухня-онлайн суши-бар, в котором любимые суши и\r\n            сашими, роллы и другие блюда национальной японской кухни\r\n            делает команда профессиональных поваров</p>\r\n        <p>Быстрая работа и качественная продукция, а также самые\r\n            настоящие компоненты придают хороший вкус блюдам, дарят\r\n            наслаждение от трапезы.</p>\r\n    </section>\r\n)\r\n}\r\nexport default PromoText;","import styles from './Card.module.css';\r\n\r\n\r\nconst Card = (props) => {\r\n    return (\r\n        <div className={styles.card}>{props.children}</div>\r\n    )\r\n}\r\nexport default Card","import styles from './Input.module.css';\r\nimport React from \"react\";\r\n\r\nconst Input = React.forwardRef((props,ref) => {\r\n    return (\r\n        <div className={styles.input}>\r\n            <label htmlFor={props.input.id}>{props.label}</label>\r\n            <input ref={ref} id={props.input.id} {...props.input}/>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default Input;","import {useRef, useState} from \"react\";\r\nimport styles from './MealItemForm.module.css';\r\nimport Input from \"../../UI/Input\";\r\n\r\n\r\nconst MealItemForm = (props) => {\r\n    const [isAmountValid, setIsAmountValid] = useState (true);\r\n    const amountInputRef = useRef ();\r\n    const submitHandler = (event) => {\r\n        event.preventDefault ();\r\n        const inputAmount = amountInputRef.current.value;\r\n        if (inputAmount.trim ().length === 0 || inputAmount < 1 || +inputAmount > 10) {\r\n            setIsAmountValid (false);\r\n            return;\r\n        }\r\n        props.onAddToCart (+inputAmount);\r\n    }\r\n\r\n    return (\r\n        <form className={styles.form} onSubmit={submitHandler}>\r\n            <Input\r\n                ref={amountInputRef}\r\n                label='Количество'\r\n                input={{\r\n                    id: props.id,\r\n                    type: 'number',\r\n                    min: '1',\r\n                    step: '1',\r\n                    defaultValue: '1',\r\n                }}/>\r\n            <button> Добавить</button>\r\n            {!isAmountValid && <p> Пожалуйста, введите количество\r\n                от 1 до 10</p>}\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default MealItemForm;","import styles from './MealItem.module.css';\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport {useContext} from \"react\";\r\nimport CartContext from \"../../../store/cart-context\";\r\n\r\nconst MealItem = (props) => {\r\n    const cartContext = useContext (CartContext);\r\n\r\n    const formattedPrice = `$${props.price.toFixed (2)}`;\r\n\r\n    const addToCartHandler = (amount) => {\r\n        cartContext.addItem({\r\n            id: props.id,\r\n            name: props.name,\r\n            amount: amount,\r\n            price: props.price,\r\n        });\r\n    }\r\n\r\n    return <li className={styles.meal}>\r\n        <div>\r\n            <h3>{props.name}</h3>\r\n            <div className={styles.description}>{props.description}</div>\r\n            <div className={styles.price}>{formattedPrice}</div>\r\n        </div>\r\n\r\n        <div>\r\n            <MealItemForm onAddToCart={addToCartHandler} id={props.id}/>\r\n        </div>\r\n\r\n    </li>\r\n}\r\n\r\nexport default MealItem;","import styles from './MealList.module.css';\r\nimport Card from \"../UI/Card\";\r\nimport MealItem from \"./MealItem/Mealtem\";\r\n\r\nconst DUMMY_MEALS = [\r\n    {\r\n        id: \"m1\",\r\n        name: 'Ролл \"Наоми\"',\r\n        description:\r\n            \"Сыр Филадельфия, куриное филе, масаго, помидор, огурец, кунжут\",\r\n        price: 11.99,\r\n    },\r\n    {\r\n        id: \"m2\",\r\n        name: \"Спайс в лососе\",\r\n        description: \"Рис, лосось, соус спайс\",\r\n        price: 3.99,\r\n    },\r\n    {\r\n        id: \"m3\",\r\n        name: \"Суши с угрем\",\r\n        description: \"Угорь копченый, соус унаги, кунжут\",\r\n        price: 4.99,\r\n    },\r\n    {\r\n        id: \"m4\",\r\n        name: 'Салат \"Поке с лососем\"',\r\n        description:\r\n            \"Рис, лосось, огурец, чука, нори, стружка тунца, соус ореховый\",\r\n        price: 7.99,\r\n    },\r\n    {\r\n        id: \"m5\",\r\n        name: 'Филадельфия с огурцом',\r\n        description:\r\n            \"Рис, лосось, огурец, нори, Сыр Филадельфия\",\r\n        price: 13.99,\r\n    },\r\n    {\r\n        id: \"m6\",\r\n        name: 'Калифорния',\r\n        description:\r\n            \"Рис, масаго, огурец, Сыр Филадельфия \",\r\n        price: 10.99,\r\n    },\r\n];\r\n\r\n\r\nconst MealList = () => {\r\n    const mealList =\r\n        DUMMY_MEALS.map ((meal) =>\r\n            <MealItem name={meal.name}\r\n                      description={meal.description}\r\n                      price={meal.price}\r\n                      key={meal.id}\r\n                      id={meal.id}/>\r\n        );\r\n\r\n    return (\r\n        <section className={styles.meals}>\r\n            <Card>\r\n                <ul>\r\n                    {mealList}\r\n                </ul>\r\n            </Card>\r\n        </section>\r\n    )\r\n}\r\nexport default MealList;","import React from \"react\";\r\nimport PromoText from \"./PromoText\";\r\nimport MealList from \"./MealList\";\r\n\r\nconst Meals = () => {\r\n    return (\r\n        <React.Fragment>\r\n            <PromoText/>\r\n            <MealList/>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Meals;","import styles from './Modal.module.css';\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Backdrop = (props) => {\r\n    return <div className={styles.backdrop} onClick={props.onHideCart}></div>\r\n}\r\nconst ModalWindow = (props) => {\r\n    return (\r\n        <div className={styles.modal}>\r\n            <div className={styles.content}>{props.children}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst portalElement = document.getElementById ('overlays');\r\n\r\nconst Modal = (props) => {\r\n    return (\r\n        <React.Fragment>\r\n            {ReactDOM.createPortal (<Backdrop onHideCart={props.onHideCart}/>, portalElement)}\r\n            {ReactDOM.createPortal (<ModalWindow>{props.children}</ModalWindow>,\r\n                portalElement)}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Modal;","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n    const price = `$${props.price.toFixed(2)}`;\r\n\r\n    return (\r\n        <li className={classes[\"cart-item\"]}>\r\n            <div>\r\n                <h2>{props.name}</h2>\r\n                <div className={classes.summary}>\r\n                    <span className={classes.price}>{price}</span>\r\n                    <span className={classes.amount}>x {props.amount}</span>\r\n                </div>\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button onClick={props.onRemove}>−</button>\r\n                <button onClick={props.onAdd}>+</button>\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default CartItem;\r\n","import styles from './Cart.module.css';\r\nimport Modal from \"../UI/Modal\";\r\nimport {useContext} from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = (props) => {\r\n\r\n    const cartContext = useContext (CartContext);\r\n\r\n    const totalAmount = `$${Math.abs(cartContext.totalAmount).toFixed(2)}`;\r\n    const hasItems = cartContext.items.length > 0;\r\n\r\n    const removeCartItemHandler = (id) => {\r\n        cartContext.removeItem(id);\r\n    }\r\n    const addCartItemHandler = (item) => {\r\n        cartContext.addItem ({...item, amount: 1})\r\n    }\r\n\r\n    const cartItems = (\r\n        <ul className={styles[\"cart-items\"]}>\r\n            {cartContext.items.map((item) => (\r\n                <CartItem\r\n                    key={item.id}\r\n                    name={item.name}\r\n                    amount={item.amount}\r\n                    price={item.price}\r\n                    onAdd={addCartItemHandler.bind(null, item)}\r\n                    onRemove={removeCartItemHandler.bind(null, item.id)}\r\n                />\r\n            ))}\r\n        </ul>\r\n    );\r\n    return (\r\n        <Modal onHideCart={props.onHideCart}>\r\n            {cartItems}\r\n            <div className={styles.total}>\r\n                <span>Итого</span>\r\n                <span>{totalAmount}</span>\r\n            </div>\r\n            <div className={styles.actions}>\r\n                <button className={styles[\"button--alt\"]} onClick={props.onHideCart}>\r\n                    Закрыть\r\n                </button>\r\n                {hasItems && <button className={styles.button}>Заказать</button>}\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default Cart;\r\n","import { useReducer } from \"react\";\r\n\r\nimport CartContext from \"./cart-context\";\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === \"ADD_ITEM\") {\r\n        const updatedTotalAmount =\r\n            state.totalAmount + action.item.price * action.item.amount;\r\n\r\n        const existingCartItemIndex = state.items.findIndex((item) => {\r\n            return item.id === action.item.id;\r\n        });\r\n\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n        let updatedItem;\r\n        let updatedItems;\r\n\r\n        if (existingCartItem) {\r\n            updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount + action.item.amount,\r\n            };\r\n\r\n            updatedItems = [...state.items];\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        } else {\r\n            updatedItem = {\r\n                ...action.item,\r\n            };\r\n            updatedItems = state.items.concat(updatedItem);\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n        };\r\n    }\r\n\r\n    if (action.type === \"REMOVE_ITEM\") {\r\n        const existingCartItemIndex = state.items.findIndex((item) => {\r\n            return item.id === action.id;\r\n        });\r\n\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n        const updatedTotalAmount = state.totalAmount - existingCartItem.price;\r\n\r\n        let updatedItems;\r\n        if (existingCartItem.amount === 1) {\r\n            updatedItems = state.items.filter((item) => item.id !== action.id);\r\n        } else {\r\n            const updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount - 1,\r\n            };\r\n            updatedItems = [...state.items];\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        }\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount,\r\n        };\r\n    }\r\n\r\n    return defaultCartState;\r\n};\r\n\r\nconst CartContextProvider = (props) => {\r\n    const [cartState, dispatchCartAction] = useReducer(\r\n        cartReducer,\r\n        defaultCartState\r\n    );\r\n\r\n    const addItemHandler = (item) => {\r\n        dispatchCartAction({\r\n            type: \"ADD_ITEM\",\r\n            item: item,\r\n        });\r\n    };\r\n\r\n    const removeItemHandler = (id) => {\r\n        dispatchCartAction({\r\n            type: \"REMOVE_ITEM\",\r\n            id: id,\r\n        });\r\n    };\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addItemHandler,\r\n        removeItem: removeItemHandler,\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider value={cartContext}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CartContextProvider;\r\n","import React, {useState} from \"react\";\nimport Header from \"./components/Layout/Header\";\nimport Meals from \"./components/Meals/Meals\";\nimport Cart from \"./components/Cart/Cart\";\nimport CartContextProvider from \"./store/CartContextProvider\";\n\n\nfunction App () {\n    const [cartIsVisible, setCartIsVisible] = useState (false);\n\n    const showCartHandler = () => {\n        setCartIsVisible (true);\n    }\n\n    const hideCartHandler = () => {\n        setCartIsVisible (false);\n    }\n    return (\n        <CartContextProvider>\n            {cartIsVisible && <Cart onHideCart={hideCartHandler}/>}\n            <Header onShowCart={showCartHandler}/>\n            <main>\n                <Meals/>\n            </main>\n        </CartContextProvider>\n    );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}