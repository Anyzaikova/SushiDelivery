(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(e,t,a){e.exports={"cart-items":"Cart_cart-items__32Xl0",total:"Cart_total__1bmfn",actions:"Cart_actions__18VKp","button--alt":"Cart_button--alt__RAJOU",button:"Cart_button__214tL"}},function(e,t,a){e.exports={"cart-item":"CartItem_cart-item__3hTWC",summary:"CartItem_summary__3dhFU",price:"CartItem_price__3M6F5",amount:"CartItem_amount__2YyTO",actions:"CartItem_actions__2o4k_"}},,function(e,t,a){e.exports={button:"HeaderCartButton_button__1_iLw",icon:"HeaderCartButton_icon__3fXWu",badge:"HeaderCartButton_badge___NfcZ",bump:"HeaderCartButton_bump__9U-Dd"}},function(e,t,a){e.exports={meal:"MealItem_meal__2IABJ",description:"MealItem_description__3REsP",price:"MealItem_price__3uBUh"}},function(e,t,a){e.exports={backdrop:"Modal_backdrop__1kS8p",modal:"Modal_modal__3-oss","slide-down":"Modal_slide-down__2rUh2"}},,function(e,t,a){e.exports={header:"Header_header__16nNj","main-image":"Header_main-image__3lUz3"}},function(e,t,a){e.exports={"promo-text":"PromoText_promo-text__2SHpT"}},function(e,t,a){e.exports={meals:"MealList_meals__3qiyb","meals-appear":"MealList_meals-appear__nc4dN"}},function(e,t,a){e.exports={card:"Card_card__2u-MV"}},function(e,t,a){e.exports={form:"MealItemForm_form__2YSsh"}},function(e,t,a){e.exports={input:"Input_input__6m3nO"}},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),i=(a(19),a(1)),s=a.n(i),r=a.p+"static/media/sushi.a2b4b921.jpg",o=a(9),d=a.n(o),m=a(0);var l=()=>Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})}),j=a(5),u=a.n(j);var b=s.a.createContext({items:[],totalAmount:0,addItem:e=>{},removeItem:e=>{}});var p=e=>{const[t,a]=Object(i.useState)(!1),n=Object(i.useContext)(b),c=n.items.reduce(((e,t)=>e+t.amount),0),s="".concat(u.a.button," ").concat(t?u.a.bump:"");return Object(i.useEffect)((()=>{if(0===n.items.length)return;a(!0);const e=setTimeout((()=>{a(!1)}),300);return()=>{clearTimeout(e)}}),[n.items]),Object(m.jsxs)("button",{className:s,onClick:e.onClick,children:[Object(m.jsx)("span",{className:u.a.icon,children:Object(m.jsx)(l,{})}),Object(m.jsx)("span",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(m.jsx)("span",{className:u.a.badge,children:c})]})};var x=e=>Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsxs)("header",{className:d.a.header,children:[Object(m.jsx)("h1",{children:"\u042f\u043f\u043e\u043d\u043a\u0430 \u043a\u0443\u0445\u043d\u044f"}),Object(m.jsx)(p,{onClick:e.onShowCart,onClose:e.onCloseCart})]}),Object(m.jsx)("div",{className:d.a["main-image"],children:Object(m.jsx)("img",{src:r,alt:"\u0411\u043b\u044e\u0434\u0430 \u044f\u043f\u043e\u043d\u0441\u043a\u043e\u0439 \u043a\u0443\u0445\u043d\u0438"})})]}),_=a(10),h=a.n(_);var O=()=>Object(m.jsxs)("section",{className:h.a["promo-text"],children:[Object(m.jsx)("h2",{children:" \u041e\u043d\u043b\u0430\u0439\u043d \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d \u042f\u043f\u043e\u043d\u043a\u0430 \u043a\u0443\u0445\u043d\u044f"}),Object(m.jsx)("p",{children:" \u042f\u043f\u043e\u043d\u043a\u0430 \u041a\u0443\u0445\u043d\u044f-\u043e\u043d\u043b\u0430\u0439\u043d \u0441\u0443\u0448\u0438-\u0431\u0430\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043b\u044e\u0431\u0438\u043c\u044b\u0435 \u0441\u0443\u0448\u0438 \u0438 \u0441\u0430\u0448\u0438\u043c\u0438, \u0440\u043e\u043b\u043b\u044b \u0438 \u0434\u0440\u0443\u0433\u0438\u0435 \u0431\u043b\u044e\u0434\u0430 \u043d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0439 \u044f\u043f\u043e\u043d\u0441\u043a\u043e\u0439 \u043a\u0443\u0445\u043d\u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0432\u0430\u0440\u043e\u0432"}),Object(m.jsx)("p",{children:"\u0411\u044b\u0441\u0442\u0440\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u0430\u043c\u044b\u0435 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u043f\u0440\u0438\u0434\u0430\u044e\u0442 \u0445\u043e\u0440\u043e\u0448\u0438\u0439 \u0432\u043a\u0443\u0441 \u0431\u043b\u044e\u0434\u0430\u043c, \u0434\u0430\u0440\u044f\u0442 \u043d\u0430\u0441\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0442 \u0442\u0440\u0430\u043f\u0435\u0437\u044b."})]}),v=a(11),C=a.n(v),f=a(12),N=a.n(f);var I=e=>Object(m.jsx)("div",{className:N.a.card,children:e.children}),g=a(6),M=a.n(g),A=a(13),H=a.n(A),k=a(14),w=a.n(k);var y=s.a.forwardRef(((e,t)=>Object(m.jsxs)("div",{className:w.a.input,children:[Object(m.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(m.jsx)("input",{ref:t,id:e.input.id,...e.input})]})));var E=e=>{const[t,a]=Object(i.useState)(!0),n=Object(i.useRef)();return Object(m.jsxs)("form",{className:H.a.form,onSubmit:t=>{t.preventDefault();const c=n.current.value;0===c.trim().length||c<1||+c>10?a(!1):e.onAddToCart(+c)},children:[Object(m.jsx)(y,{ref:n,label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",input:{id:e.id,type:"number",min:"1",step:"1",defaultValue:"1"}}),Object(m.jsx)("button",{children:" \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),!t&&Object(m.jsx)("p",{children:" \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442 1 \u0434\u043e 10"})]})};var T=e=>{const t=Object(i.useContext)(b),a="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:M.a.meal,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:e.name}),Object(m.jsx)("div",{className:M.a.description,children:e.description}),Object(m.jsx)("div",{className:M.a.price,children:a})]}),Object(m.jsx)("div",{children:Object(m.jsx)(E,{onAddToCart:a=>{t.addItem({id:e.id,name:e.name,amount:a,price:e.price})},id:e.id})})]})};const F=[{id:"m1",name:'\u0420\u043e\u043b\u043b "\u041d\u0430\u043e\u043c\u0438"',description:"\u0421\u044b\u0440 \u0424\u0438\u043b\u0430\u0434\u0435\u043b\u044c\u0444\u0438\u044f, \u043a\u0443\u0440\u0438\u043d\u043e\u0435 \u0444\u0438\u043b\u0435, \u043c\u0430\u0441\u0430\u0433\u043e, \u043f\u043e\u043c\u0438\u0434\u043e\u0440, \u043e\u0433\u0443\u0440\u0435\u0446, \u043a\u0443\u043d\u0436\u0443\u0442",price:11.99},{id:"m2",name:"\u0421\u043f\u0430\u0439\u0441 \u0432 \u043b\u043e\u0441\u043e\u0441\u0435",description:"\u0420\u0438\u0441, \u043b\u043e\u0441\u043e\u0441\u044c, \u0441\u043e\u0443\u0441 \u0441\u043f\u0430\u0439\u0441",price:3.99},{id:"m3",name:"\u0421\u0443\u0448\u0438 \u0441 \u0443\u0433\u0440\u0435\u043c",description:"\u0423\u0433\u043e\u0440\u044c \u043a\u043e\u043f\u0447\u0435\u043d\u044b\u0439, \u0441\u043e\u0443\u0441 \u0443\u043d\u0430\u0433\u0438, \u043a\u0443\u043d\u0436\u0443\u0442",price:4.99},{id:"m4",name:'\u0421\u0430\u043b\u0430\u0442 "\u041f\u043e\u043a\u0435 \u0441 \u043b\u043e\u0441\u043e\u0441\u0435\u043c"',description:"\u0420\u0438\u0441, \u043b\u043e\u0441\u043e\u0441\u044c, \u043e\u0433\u0443\u0440\u0435\u0446, \u0447\u0443\u043a\u0430, \u043d\u043e\u0440\u0438, \u0441\u0442\u0440\u0443\u0436\u043a\u0430 \u0442\u0443\u043d\u0446\u0430, \u0441\u043e\u0443\u0441 \u043e\u0440\u0435\u0445\u043e\u0432\u044b\u0439",price:7.99},{id:"m5",name:"\u0424\u0438\u043b\u0430\u0434\u0435\u043b\u044c\u0444\u0438\u044f \u0441 \u043e\u0433\u0443\u0440\u0446\u043e\u043c",description:"\u0420\u0438\u0441, \u043b\u043e\u0441\u043e\u0441\u044c, \u043e\u0433\u0443\u0440\u0435\u0446, \u043d\u043e\u0440\u0438, \u0421\u044b\u0440 \u0424\u0438\u043b\u0430\u0434\u0435\u043b\u044c\u0444\u0438\u044f",price:13.99},{id:"m6",name:"\u041a\u0430\u043b\u0438\u0444\u043e\u0440\u043d\u0438\u044f",description:"\u0420\u0438\u0441, \u043c\u0430\u0441\u0430\u0433\u043e, \u043e\u0433\u0443\u0440\u0435\u0446, \u0421\u044b\u0440 \u0424\u0438\u043b\u0430\u0434\u0435\u043b\u044c\u0444\u0438\u044f ",price:10.99}];var B=()=>{const e=F.map((e=>Object(m.jsx)(T,{name:e.name,description:e.description,price:e.price,id:e.id},e.id)));return Object(m.jsx)("section",{className:C.a.meals,children:Object(m.jsx)(I,{children:Object(m.jsx)("ul",{children:e})})})};var R=()=>Object(m.jsxs)(s.a.Fragment,{children:[Object(m.jsx)(O,{}),Object(m.jsx)(B,{})]}),S=a(2),D=a.n(S),U=a(7),P=a.n(U);const V=e=>Object(m.jsx)("div",{className:P.a.backdrop,onClick:e.onHideCart}),z=e=>Object(m.jsx)("div",{className:P.a.modal,children:Object(m.jsx)("div",{className:P.a.content,children:e.children})}),J=document.getElementById("overlays");var L=e=>Object(m.jsxs)(s.a.Fragment,{children:[c.a.createPortal(Object(m.jsx)(V,{onHideCart:e.onHideCart}),J),c.a.createPortal(Object(m.jsx)(z,{children:e.children}),J)]}),$=a(3),W=a.n($);var X=e=>{const t="$".concat(e.price.toFixed(2));return Object(m.jsxs)("li",{className:W.a["cart-item"],children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:e.name}),Object(m.jsxs)("div",{className:W.a.summary,children:[Object(m.jsx)("span",{className:W.a.price,children:t}),Object(m.jsxs)("span",{className:W.a.amount,children:["x ",e.amount]})]})]}),Object(m.jsxs)("div",{className:W.a.actions,children:[Object(m.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(m.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})};var Y=e=>{const t=Object(i.useContext)(b),a="$".concat(Math.abs(t.totalAmount).toFixed(2)),n=t.items.length>0,c=e=>{t.removeItem(e)},s=e=>{t.addItem({...e,amount:1})},r=Object(m.jsx)("ul",{className:D.a["cart-items"],children:t.items.map((e=>Object(m.jsx)(X,{name:e.name,amount:e.amount,price:e.price,onAdd:s.bind(null,e),onRemove:c.bind(null,e.id)},e.id)))});return Object(m.jsxs)(L,{onHideCart:e.onHideCart,children:[r,Object(m.jsxs)("div",{className:D.a.total,children:[Object(m.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e"}),Object(m.jsx)("span",{children:a})]}),Object(m.jsxs)("div",{className:D.a.actions,children:[Object(m.jsx)("button",{className:D.a["button--alt"],onClick:e.onHideCart,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),n&&Object(m.jsx)("button",{className:D.a.button,children:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c"})]})]})};const q={items:[],totalAmount:0},K=(e,t)=>{if("ADD_ITEM"===t.type){const a=e.totalAmount+t.item.price*t.item.amount,n=e.items.findIndex((e=>e.id===t.item.id)),c=e.items[n];let i,s;return c?(i={...c,amount:c.amount+t.item.amount},s=[...e.items],s[n]=i):(i={...t.item},s=e.items.concat(i)),{items:s,totalAmount:a}}if("REMOVE_ITEM"===t.type){const a=e.items.findIndex((e=>e.id===t.id)),n=e.items[a],c=e.totalAmount-n.price;let i;if(1===n.amount)i=e.items.filter((e=>e.id!==t.id));else{const t={...n,amount:n.amount-1};i=[...e.items],i[a]=t}return{items:i,totalAmount:c}}return q};var Z=e=>{const[t,a]=Object(i.useReducer)(K,q),n={items:t.items,totalAmount:t.totalAmount,addItem:e=>{a({type:"ADD_ITEM",item:e})},removeItem:e=>{a({type:"REMOVE_ITEM",id:e})}};return Object(m.jsx)(b.Provider,{value:n,children:e.children})};var G=function(){const[e,t]=Object(i.useState)(!1);return Object(m.jsxs)(Z,{children:[e&&Object(m.jsx)(Y,{onHideCart:()=>{t(!1)}}),Object(m.jsx)(x,{onShowCart:()=>{t(!0)}}),Object(m.jsx)("main",{children:Object(m.jsx)(R,{})})]})};c.a.render(Object(m.jsx)(G,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.5d912024.chunk.js.map